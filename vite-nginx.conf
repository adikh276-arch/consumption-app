server {
  listen 80 default_server;
  listen [::]:80 default_server;
  server_name _;

  # Serve consumption-app
  location /consumption-app/ {
    alias /usr/share/nginx/html/consumption-app/;
    try_files $uri $uri/ /consumption-app/index.html;
  }

  # Serve craving-app
  location /craving-app/ {
    alias /usr/share/nginx/html/craving-app/;
    try_files $uri $uri/ /craving-app/index.html;
  }

  # Serve mood-app
  location /mood-app/ {
    alias /usr/share/nginx/html/mood-app/;
    try_files $uri $uri/ /mood-app/index.html;
  }

  # Serve sleep-app
  location /sleep-app/ {
    alias /usr/share/nginx/html/sleep-app/;
    try_files $uri $uri/ /sleep-app/index.html;
  }

  # Serve withdrawal-app
  location /withdrawal-app/ {
    alias /usr/share/nginx/html/withdrawal-app/;
    try_files $uri $uri/ /withdrawal-app/index.html;
  }

  # Serve energy-app
  location /energy-app/ {
    alias /usr/share/nginx/html/energy-app/;
    try_files $uri $uri/ /energy-app/index.html;
  }

  # Redirect root to first app
  location / {
    return 301 /consumption-app/;
  }
}
